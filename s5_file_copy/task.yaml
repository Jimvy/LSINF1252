accessible: true
author: Olivier Martin
context: |-
    *Estimated time: 30 minutes*

    Given a file containing arbitrary bytes, you must write a function that copies the file. Obviously, your function cannot modify the content of the original file. Beware that the copied file should have the same permissions as the original file.

    Use only ``open(2)``, ``read(2)``, ``write(2)``, ``stat(2)`` and ``close(2)``.
environment: cpp
evaluate: best
groups: false
limits:
    memory: '100'
    output: '2'
    time: '30'
name: '[S5] File copy '
network_grading: false
order: 50
problems:
    q1:
        language: c
        type: code
        header: |-
            Write here the body of the function

            .. code-block:: c

                /*
                 * @pre file_name != NULL, name of the original file
                 *      new_file_name != NULL, name of the new file (the copy)
                 *
                 * @post copy the contents of {file_name} to {new_file_name}.
                 *       return 0 if the function terminates with success, -1 in case of errors.
                 */
                int copy(char *file_name, char *new_file_name) {
        name: ''
stored_submissions: 0
submission_limit:
    amount: -1
    period: -1
tags:
    '0':
        id: close
        name: Close
        visible: true
        description: This tag validate that your close are correctly performed.
        type: 0
    '1':
        id: permission
        description: This tag validate that you are able to copy permission of a file.
        type: 0
        visible: true
        name: Permission
    '2':
        type: 0
        id: copy
        visible: true
        description: This tag validate you are able to copy a file.
        name: Copy
    '3':
        visible: true
        description: This tag validate you are able to open a file.
        id: open
        name: Open
        type: 0
    '10':
        visible: true
        name: Timeout
        description: Your code exceeds the maximum allowed time.
        type: 1
        id: timeout
    '11':
        id: original_modif
        type: 1
        visible: true
        name: Original file modified
        description: You have modified the original file.
    '12':
        type: 1
        id: failure_handling
        description: You do not manage failures during the copy properly.
        visible: true
        name: Failure handling
    '4':
        type: 1
        visible: true
        id: sigfpe
        description: ''
        name: Floating Point Exception
    '5':
        type: 1
        visible: true
        id: sigsegv
        description: ''
        name: Segmentation Fault
    '6':
        description: You use some banned functions.
        name: Banned functions
        type: 1
        visible: true
        id: banned_funcs
    '7':
        name: Memory Exceeded
        type: 1
        id: memory
        visible: true
        description: ''
    '8':
        id: not_compile
        name: Not compile
        visible: true
        description: You code does not compile.
        type: 1
    '9':
        type: 1
        id: double_free
        visible: true
        description: Your code produced a double free.
        name: Double free
    '13':
        name: File
        type: 2
        visible: true
        description: ''
        id: ''
    '14':
        type: 2
        description: ''
        visible: true
        name: S5
        id: ''
weight: 1.0
