accessible: true
author: Olivier Martin
context: |-
    Given a file containing a huge array of integers, you are asked to write a function to edit a value of the array and another to retrieve a value from the array.

    Since the array is huge, you can not load it entierly into memory. Consequently, you have to naviguate directly through the array in the file by using `lseek(2) <https://sites.uclouvain.be/SystInfo/manpages/man2/lseek.2.html>`_.

    You may want to use `fstat(2) <https://linux.die.net/man/2/fstat>`_ to get informations about the file.
environment: cpp
evaluate: best
groups: false
limits:
    output: '2'
    time: '30'
    memory: '50'
name: '[S5] Get and set on array in file'
network_grading: false
order: 26
problems:
    q1:
        name: ''
        type: code
        language: ''
        header: |-
            .. code-block:: c

                /*
                 * @pre filename != NULL, index >= 0
                 * @post return the integer at the index {index}
                 *       of the array in the file {filename}.
                 *       return -1 in case of error.
                 *       return -2 if index >= length of array.
                 */
                int get(char* filename, int index)
    q2:
        type: code
        language: ''
        name: ''
        header: |-
            .. code-block:: c

                /*
                 * @pre filename != NULL, index >= 0
                 * @post set the integer present in the file {filename}
                 *       at index {index} at value {value}.
                 *       do nothing if something fails.
                 */
                void set(char* filename, int index, int value)
stored_submissions: 0
submission_limit:
    amount: -1
    period: -1
tags:
    '0':
        type: 0
        visible: true
        id: close
        name: Close
        description: This tag validate that your close are correctly performed.
    '1':
        type: 0
        visible: true
        id: open
        description: This tag validate you are able to open a file.
        name: Open
    '10':
        id: failure_handling
        visible: true
        type: 1
        description: You do not manage failures properly.
        name: Failure handling
    '11':
        type: 1
        visible: true
        name: Floating Point Exception
        description: ''
        id: sigfpe
    '12':
        description: ''
        id: memory
        name: Memory Exceeded
        type: 1
        visible: true
    '13':
        description: You code do not compile.
        name: Not compile
        visible: true
        id: not_compile
        type: 1
    '14':
        name: Original file modified
        visible: true
        id: original_modif
        type: 1
        description: You have modified the original file.
    '15':
        name: Wrong Set Value
        description: The value written in the file has not the correct value.
        visible: true
        type: 1
        id: wrong_set_value
    '2':
        id: wrong_index_set
        visible: true
        name: Wrong Index Set
        description: A value at an unwanted index was modified.
        type: 1
    '3':
        visible: true
        id: wrong_get_value_returned
        description: The get() function did not return the expected value.
        name: Wrong Get Value Returned
        type: 1
    '4':
        id: timeout
        name: Timeout
        visible: true
        type: 1
        description: Your code exceeds the maximum allowed time.
    '5':
        name: Out of bounds
        id: oob
        visible: true
        type: 1
        description: You try to read outside of the array.
    '6':
        id: too_many_op
        type: 1
        visible: true
        description: You call the read or write function more than necessary.
        name: Too many read/write
    '7':
        name: Segmentation Fault
        id: sigsegv
        visible: true
        description: ''
        type: 1
    '8':
        type: 1
        name: Banned functions
        visible: true
        description: You use some banned functions.
        id: banned_funcs
    '9':
        name: Double free
        id: double_free
        description: Your code produced a double free.
        type: 1
        visible: true
    '16':
        name: File
        description: ''
        type: 2
        visible: true
        id: ''
    '17':
        description: ''
        visible: true
        name: S5
        type: 2
        id: ''
weight: 1.0
